(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"67TT":function(e,t,n){"use strict";var r=n("L2JU"),o=n("dhqo"),a=n.n(o);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"the-dialog-delete",props:{value:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}},model:{type:String,default:""}},computed:c(c({},Object(r.d)("app",["loading"])),{},{question:function(){var e=this.selected.length;return 1===e?"this ".concat(this.model," ?"):"these ".concat(e," ").concat(a()(this.model)," ?")}})},u=n("KHd+"),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"290",persistent:"",scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[n("v-card",{attrs:{loading:!!e.loading}},[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("Confirmation")]),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",{staticClass:"pt-2",style:e.$vuetify.breakpoint.smAndDown?"":"max-height: 300px;"},[e._v("\n            Are you sure to delete "+e._s(e.question)+"\n            "),n("v-chip-group",{attrs:{column:"",small:"","active-class":"primary--text"}},e._l(e.selected,(function(t){return n("v-chip",{key:t.id},[e._t("default",null,{item:t})],2)})),1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{disabled:!!e.loading,color:"red",dark:""},on:{click:function(t){return e.$emit("delete")}}},[e._v("Yes, sure")])],1)],1)],1)}),[],!1,null,null,null);t.a=d.exports},Hybr:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),o=n.n(r),a=n("L2JU"),i=n("D4Jh"),c=n("mXMD"),s=n("UzJ+"),l=n("obwe"),u=(n("dhqo"),n("f5ZI")),d=n("tax4"),v=n("67TT");function f(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,g,y="product",O={name:y,components:{TheDataTable:u.a,TheDialogForm:d.a,TheDialogDelete:v.a},data:function(){return{model:y,params:{},total:0,selected:[],headers:[{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Last.Price",value:"latest_price",align:"right",sortable:!1,width:150},{text:"Tot.Price",value:"prices_len",align:"center",sortable:!1},{text:"Creator",value:"user.name"},{text:"Updated At",value:"updated_at"}],dialog:!1,dialogDelete:!1,form:{}}},computed:h(h({},Object(a.d)("app",["loading","dense"])),Object(a.d)("model",["products"])),methods:h(h(h({},Object(a.c)("model",[c.b])),Object(a.b)("model",[i.b,i.c,i.a])),{},{create:function(){this.form=this.$_.cloneDeep(s.c),this.dialog=!0},edit:function(){this.form=this.$_.cloneDeep(this.selected[0]),this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.$refs.form.reset()}))},fetch:(g=p(o.a.mark((function e(t){var n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(this.params=t),e.next=3,this.GET_MODELS({model:y,params:this.params}).then((function(e){var t=e.meta;n.total=t.total})).catch((function(e){return Object(l.b)(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)}),save:function(){var e=this;this.$refs.form.validate().then((function(t){if(t){var n=e.form;e.SAVE_MODEL({model:y,payload:n}).then(function(){var t=p(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.id>0)){t.next=4;break}e.UPDATE_MODEL({model:y,data:r}),t.next=6;break;case 4:return t.next=6,e.fetch();case 6:e.selected=[],e.close();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var n=Object(l.b)(t);e.$refs.form.setErrors(n)}))}}))},deleteItem:(_=p(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.DELETE_MODELS({model:y,ids:this.$_.map(this.selected,"id")}).then(p(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch();case 2:t.selected=[],t.dialogDelete=!1;case 4:case"end":return e.stop()}}),e)})))).catch((function(e){return Object(l.b)(e)}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)}),childRoute:function(e){return{name:"price",params:{id:e}}}})},w=n("KHd+"),x=Object(w.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-col",{attrs:{cols:"12"}},[n("the-data-table",{attrs:{headers:e.headers,model:e.model,items:e.products,total:e.total},on:{unselect:function(t){e.selected=[]},fetch:e.fetch,create:e.create,edit:e.edit,delete:function(t){e.dialogDelete=!0}},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[n("v-chip",{attrs:{to:e.childRoute(r.id),color:"primary",small:e.dense}},[e._v(e._s(r.name))])]}},{key:"item.latest_price",fn:function(t){var n=t.item;return[e._v(e._s(e._f("currency")(n.latest_price)))]}},{key:"item.prices_len",fn:function(t){var n=t.item;return[e._v(e._s(n.prices.length))]}},{key:"item.updated_at",fn:function(t){var n=t.item;return[e._v(e._s(e._f("moment")(n.updated_at,"from")))]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),n("the-dialog-form",{attrs:{form:e.form},on:{close:e.close,submit:e.save},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("validation-observer",{ref:"form"},[n("validation-provider",{attrs:{name:"name"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,o=t.valid;return[n("v-text-field",{attrs:{label:"Product name",type:"text","error-messages":r,success:o,counter:"",hint:"This is to identify the product","persistent-hint":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})]}}])}),e._v(" "),n("validation-provider",{attrs:{name:"description"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,o=t.valid;return[n("v-text-field",{attrs:{label:"Product description",type:"text","error-messages":r,success:o,counter:"",hint:"Short description about the product","persistent-hint":""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})]}}])})],1)],1),e._v(" "),n("the-dialog-delete",{attrs:{selected:e.selected,model:e.model},on:{delete:e.deleteItem,close:function(t){e.dialogDelete=!1}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[e._v("\n            "+e._s(n.name)+"\n        ")]}}]),model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}})],1)}),[],!1,null,null,null);t.default=x.exports},"UzJ+":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r={id:-1,name:"",email:"",role:{id:-1,name:""}},o={id:-1,name:"",description:"",user:r},a={id:-1,product_id:-1,price:0,changed_at:null,product:o,user:r},i={id:-1,name:"",description:"",user:r,percents:[]}},f5ZI:function(e,t,n){"use strict";var r=n("dhqo"),o=n.n(r),a=n("LvDl"),i=n("L2JU"),c=n("bHnR");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={name:"the-data-table",props:{value:{type:Array,default:function(){return[]}},headers:{type:Array,default:function(){return[]}},model:{type:String,default:""},items:{type:Array,default:function(){return[]}},total:{type:Number,default:0}},data:function(){return{search:"",searchBox:!1,options:null}},computed:l(l({},Object(i.d)("app",["loading","dense"])),{},{tableTitle:function(){var e=this.value.length;return e>0?"".concat(e," selected"):"".concat(o()(this.$_.startCase(this.model)))}}),methods:l(l({},Object(i.c)("app",[c.l])),{},{toggleSearch:function(){this.searchBox=!this.searchBox,this.searchBox||(this.search="")},fetch:function(){this.$emit("fetch",l(l({},this.options),{},{search:this.search}))}}),watch:{options:{handler:function(){this.fetch()},deep:!0},search:Object(a.debounce)((function(){this.fetch()}),500)}},v=n("KHd+"),f=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{staticClass:"elevation-1",attrs:{value:e.value,headers:e.headers,items:e.items,search:e.search,options:e.options,"server-items-length":e.total,loading:!!e.loading,dense:e.dense,page:1,"items-per-page":10,"selectable-key":"selectable","sort-by":"updated_at","sort-desc":"","show-select":"","must-sort":""},on:{input:function(t){return e.$emit("input",t)},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{dark:!!e.value.length,dense:e.$vuetify.breakpoint.smAndDown,flat:""}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:e.value.length,expression:"value.length"}],attrs:{icon:""},on:{click:function(t){return e.$emit("unselect")}}},r),[n("v-icon",[e._v("mdi-close")])],1)]}}])},[e._v(" "),n("span",[e._v("Cancel")])]),e._v(" "),e.searchBox?e._e():[n("v-toolbar-title",[e._v(e._s(e.tableTitle))]),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),n("v-spacer")],e._v(" "),n("v-slide-x-reverse-transition",[n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!e.value.length&&e.searchBox,expression:"!value.length && searchBox"}],attrs:{label:"Search",autofocus:"","single-line":"","hide-details":"","full-width":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!e.value.length,expression:"!value.length"}],attrs:{icon:""},on:{click:e.toggleSearch}},r),[n("v-icon",[e._v("\n                            "+e._s(e.searchBox?"mdi-close-circle":"mdi-magnify")+"\n                        ")])],1)]}}])},[e._v(" "),n("span",[e._v("Search")])]),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!e.value.length&&!e.searchBox,expression:"!value.length && !searchBox"}],attrs:{icon:""},on:{click:function(t){return e.$emit("create")}}},r),[n("v-icon",[e._v("mdi-plus")])],1)]}}])},[e._v(" "),n("span",[e._v("Create")])]),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!e.value.length&&!e.searchBox&&!e.$vuetify.breakpoint.xsOnly,expression:"\n                            !value.length &&\n                            !searchBox &&\n                            !$vuetify.breakpoint.xsOnly\n                        "}],attrs:{icon:""},on:{click:e.TOGGLE_DENSE}},r),[n("v-icon",[e._v(e._s(e.dense?"mdi-table":"mdi-table-large"))])],1)]}}])},[e._v(" "),n("span",[e._v(e._s(e.dense?"Larger":"Smaller"))])]),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:e.value.length,expression:"value.length"}],attrs:{icon:""},on:{click:function(t){return e.$emit("delete")}}},r),[n("v-icon",[e._v("mdi-delete")])],1)]}}])},[e._v(" "),n("span",[e._v("Delete")])]),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:1==e.value.length,expression:"value.length == 1"}],attrs:{icon:""},on:{click:function(t){return e.$emit("edit")}}},r),[n("v-icon",[e._v("mdi-pencil")])],1)]}}])},[e._v(" "),n("span",[e._v("Edit")])])],2)]},proxy:!0},e._l(e.headers,(function(t,n){return{key:"item."+t.value,fn:function(n){var r=n.item;return[e._t("item."+t.value,[e._v("\n            "+e._s(e.$_.get(r,t.value))+"\n        ")],{item:r})]}}}))],null,!0)})}),[],!1,null,null,null);t.a=f.exports},tax4:function(e,t,n){"use strict";var r=n("L2JU");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={name:"the-dialog-form",props:{value:{type:Boolean,default:!1},form:{type:Object,default:function(){}},title:{type:String,default:""},width:{type:String,default:"500px"}},computed:a(a({},Object(r.d)("app",["loading"])),{},{formTitle:function(){return this.title?this.title:-1===this.form.id?"New Item":"Edit Item"}})},s=n("KHd+"),l=Object(s.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":e.width,persistent:"",scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[n("v-card",{attrs:{loading:!!e.loading}},[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",{style:e.$vuetify.breakpoint.smAndDown?"":"max-height: 500px;"},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("submit")}}},[e._t("default"),e._v(" "),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"submit"}})],2)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{disabled:!!e.loading,color:"primary"},on:{click:function(t){return e.$emit("submit")}}},[e._v("Save")])],1)],1)],1)}),[],!1,null,null,null);t.a=l.exports}}]);