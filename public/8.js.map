{"version":3,"sources":["webpack:///./resources/js/views/Profile.vue?5cdf","webpack:///resources/js/views/Profile.vue","webpack:///./resources/js/views/Profile.vue?1b47","webpack:///./resources/js/views/Profile.vue"],"names":["component","_vm","this","_h","$createElement","_c","_self","attrs","edit_profile","loading","staticClass","_v","ref","scopedSlots","_u","key","fn","errors","valid","model","value","form","callback","$$v","$set","expression","role","on","$event","change_password","_s","show_password","_e","saveItem","profile","name","edit","email","email_verified_at","resend","_f","created_at","updated_at","last_at","last_ip"],"mappings":"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","file":"8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-col',{attrs:{\"cols\":\"8\"}},[(!_vm.edit_profile)?_c('v-card',{staticClass:\"mx-auto\",attrs:{\"loading\":!!_vm.loading}},[_c('v-list-item',[_c('v-list-item-avatar',{attrs:{\"color\":\"grey\"}},[_c('v-img',{attrs:{\"src\":\"/img/unknown.png\",\"alt\":\"Profile\"}})],1),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.profile.name))]),_vm._v(\" \"),_c('v-list-item-subtitle',[_vm._v(\"Profile\\n\\n                    \"),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.edit}},[_vm._v(\"Edit\")])],1)],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"indigo\"}},[_vm._v(\"mdi-email\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.profile.email)+\"\\n                    \"),_c('v-chip',{staticClass:\"ma-2\",attrs:{\"color\":_vm.profile.email_verified_at ? 'teal' : 'orange',\"text-color\":\"white\",\"small\":\"\"},on:{\"click\":_vm.resend}},[_c('v-avatar',{attrs:{\"left\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.profile.email_verified_at\n                                    ? \"mdi-checkbox-marked-circle\"\n                                    : \"mdi-help-circle-outline\"))])],1),_vm._v(\"\\n                        \"+_vm._s(_vm.profile.email_verified_at\n                                ? \"Verified\"\n                                : \"Verify\")+\"\\n                    \")],1)],1),_vm._v(\" \"),_c('v-list-item-subtitle',[_vm._v(\"Email\")])],1)],1),_vm._v(\" \"),_c('v-divider',{attrs:{\"inset\":\"\"}}),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"indigo\"}},[_vm._v(\"mdi-account-supervisor-circle\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.profile.role.name))]),_vm._v(\" \"),_c('v-list-item-subtitle',[_vm._v(\"Role\")])],1)],1),_vm._v(\" \"),_c('v-divider',{attrs:{\"inset\":\"\"}}),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"indigo\"}},[_vm._v(\"mdi-account-edit\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm._f(\"moment\")(_vm.profile.created_at,\"from\")))]),_vm._v(\" \"),_c('v-list-item-subtitle',[_vm._v(\"Created at\")])],1)],1),_vm._v(\" \"),(_vm.profile.updated_at)?_c('v-list-item',[_c('v-list-item-action'),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm._f(\"moment\")(_vm.profile.updated_at,\"from\")))]),_vm._v(\" \"),_c('v-list-item-subtitle',[_vm._v(\"Updated at\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('v-divider',{attrs:{\"inset\":\"\"}}),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"indigo\"}},[_vm._v(\"mdi-login\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm._f(\"moment\")(_vm.profile.last_at,\"from\")))]),_vm._v(\" \"),_c('v-list-item-subtitle',[_vm._v(\"Last login\")])],1)],1),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-action'),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.profile.last_ip))]),_vm._v(\" \"),_c('v-list-item-subtitle',[_vm._v(\"Last Ip Address\")])],1)],1)],1):_c('v-card',{attrs:{\"loading\":!!_vm.loading}},[_c('v-card-title',{staticClass:\"headline grey lighten-2\",attrs:{\"primary-title\":\"\"}},[_c('span',{staticClass:\"headline\"},[_vm._v(\"Edit Profile\")])]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',[_c('v-form',[_c('validation-observer',{ref:\"form\"},[_c('validation-provider',{attrs:{\"name\":\"name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                                var errors = ref.errors;\n                                var valid = ref.valid;\nreturn [_c('v-text-field',{attrs:{\"label\":\"Name\",\"type\":\"text\",\"error-messages\":errors,\"success\":valid,\"hint\":\"This is to identify the user\",\"persistent-hint\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})]}}])}),_vm._v(\" \"),_c('validation-provider',{attrs:{\"name\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                                var errors = ref.errors;\n                                var valid = ref.valid;\nreturn [_c('v-text-field',{attrs:{\"label\":\"E-mail\",\"type\":\"email\",\"error-messages\":errors,\"success\":valid,\"hint\":\"This email is for recovery\",\"persistent-hint\":\"\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})]}}])}),_vm._v(\" \"),_c('validation-provider',{attrs:{\"name\":\"role.id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                                var errors = ref.errors;\n                                var valid = ref.valid;\nreturn [_c('v-select',{attrs:{\"items\":[_vm.form.role],\"error-messages\":errors,\"success\":valid,\"chips\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Role\",\"hint\":\"Role for this user\",\"persistent-hint\":\"\",\"return-object\":\"\"},model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}})]}}])}),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.change_password = !_vm.change_password}}},[_vm._v(_vm._s(_vm.change_password ? \"Keep\" : \"Change\")+\"\\n                        Password\")]),_vm._v(\" \"),(_vm.change_password)?[_c('validation-provider',{attrs:{\"name\":\"password\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                                var errors = ref.errors;\n                                var valid = ref.valid;\nreturn [_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":_vm.show_password ? 'text' : 'password',\"append-icon\":_vm.show_password\n                                        ? 'mdi-eye'\n                                        : 'mdi-eye-off',\"error-messages\":errors,\"success\":valid,\"hint\":\"Your new password\",\"persistent-hint\":\"\",\"counter\":\"\",\"autocomplete\":\"off\"},on:{\"click:append\":function($event){_vm.show_password = !_vm.show_password}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})]}}],null,false,2160409375)}),_vm._v(\" \"),_c('validation-provider',{attrs:{\"name\":\"password_confirmation\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                                        var errors = ref.errors;\n                                        var valid = ref.valid;\nreturn [_c('v-text-field',{attrs:{\"label\":\"Password Confirmation\",\"type\":_vm.show_password ? 'text' : 'password',\"append-icon\":_vm.show_password\n                                        ? 'mdi-eye'\n                                        : 'mdi-eye-off',\"error-messages\":errors,\"success\":valid,\"hint\":\"Fill again the password\",\"persistent-hint\":\"\",\"counter\":\"\",\"autocomplete\":\"off\"},on:{\"click:append\":function($event){_vm.show_password = !_vm.show_password}},model:{value:(_vm.form.password_confirmation),callback:function ($$v) {_vm.$set(_vm.form, \"password_confirmation\", $$v)},expression:\"form.password_confirmation\"}})]}}],null,false,3482897947)})]:_vm._e()],2)],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"indigo\",\"text\":\"\"},on:{\"click\":function($event){_vm.edit_profile = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"disabled\":!!_vm.loading,\"color\":\"primary\",\"large\":\"\"},on:{\"click\":_vm.saveItem}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"8\">\n        <v-card v-if=\"!edit_profile\" :loading=\"!!loading\" class=\"mx-auto\">\n            <v-list-item>\n                <v-list-item-avatar color=\"grey\">\n                    <v-img src=\"/img/unknown.png\" alt=\"Profile\"></v-img>\n                </v-list-item-avatar>\n                <v-list-item-content>\n                    <v-list-item-title class=\"headline\">{{\n                        profile.name\n                    }}</v-list-item-title>\n                    <v-list-item-subtitle\n                        >Profile\n\n                        <v-btn @click=\"edit\" color=\"blue darken-1\" text\n                            >Edit</v-btn\n                        >\n                    </v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n            <v-list-item>\n                <v-list-item-icon>\n                    <v-icon color=\"indigo\">mdi-email</v-icon>\n                </v-list-item-icon>\n\n                <v-list-item-content>\n                    <v-list-item-title\n                        >{{ profile.email }}\n                        <v-chip\n                            class=\"ma-2\"\n                            :color=\"\n                                profile.email_verified_at ? 'teal' : 'orange'\n                            \"\n                            @click=\"resend\"\n                            text-color=\"white\"\n                            small\n                        >\n                            <v-avatar left>\n                                <v-icon small>{{\n                                    profile.email_verified_at\n                                        ? \"mdi-checkbox-marked-circle\"\n                                        : \"mdi-help-circle-outline\"\n                                }}</v-icon>\n                            </v-avatar>\n                            {{\n                                profile.email_verified_at\n                                    ? \"Verified\"\n                                    : \"Verify\"\n                            }}\n                        </v-chip>\n                    </v-list-item-title>\n                    <v-list-item-subtitle>Email</v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n            <v-divider inset></v-divider>\n            <v-list-item>\n                <v-list-item-icon>\n                    <v-icon color=\"indigo\"\n                        >mdi-account-supervisor-circle</v-icon\n                    >\n                </v-list-item-icon>\n\n                <v-list-item-content>\n                    <v-list-item-title>{{\n                        profile.role.name\n                    }}</v-list-item-title>\n                    <v-list-item-subtitle>Role</v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n            <v-divider inset></v-divider>\n            <v-list-item>\n                <v-list-item-icon>\n                    <v-icon color=\"indigo\">mdi-account-edit</v-icon>\n                </v-list-item-icon>\n\n                <v-list-item-content>\n                    <v-list-item-title>{{\n                        profile.created_at | moment(\"from\")\n                    }}</v-list-item-title>\n                    <v-list-item-subtitle>Created at</v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n            <v-list-item v-if=\"profile.updated_at\">\n                <v-list-item-action></v-list-item-action>\n                <v-list-item-content>\n                    <v-list-item-title>{{\n                        profile.updated_at | moment(\"from\")\n                    }}</v-list-item-title>\n                    <v-list-item-subtitle>Updated at</v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n            <v-divider inset></v-divider>\n            <v-list-item>\n                <v-list-item-icon>\n                    <v-icon color=\"indigo\">mdi-login</v-icon>\n                </v-list-item-icon>\n\n                <v-list-item-content>\n                    <v-list-item-title>{{\n                        profile.last_at | moment(\"from\")\n                    }}</v-list-item-title>\n                    <v-list-item-subtitle>Last login</v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n            <v-list-item>\n                <v-list-item-action></v-list-item-action>\n                <v-list-item-content>\n                    <v-list-item-title>{{ profile.last_ip }}</v-list-item-title>\n                    <v-list-item-subtitle>Last Ip Address</v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n        </v-card>\n\n        <v-card v-else :loading=\"!!loading\">\n            <v-card-title class=\"headline grey lighten-2\" primary-title>\n                <span class=\"headline\">Edit Profile</span>\n            </v-card-title>\n            <v-divider></v-divider>\n\n            <v-card-text>\n                <v-form>\n                    <validation-observer ref=\"form\">\n                        <validation-provider\n                            name=\"name\"\n                            v-slot=\"{ errors, valid }\"\n                        >\n                            <v-text-field\n                                label=\"Name\"\n                                type=\"text\"\n                                v-model=\"form.name\"\n                                :error-messages=\"errors\"\n                                :success=\"valid\"\n                                hint=\"This is to identify the user\"\n                                persistent-hint\n                            ></v-text-field>\n                        </validation-provider>\n\n                        <validation-provider\n                            name=\"email\"\n                            v-slot=\"{ errors, valid }\"\n                        >\n                            <v-text-field\n                                label=\"E-mail\"\n                                type=\"email\"\n                                v-model=\"form.email\"\n                                :error-messages=\"errors\"\n                                :success=\"valid\"\n                                hint=\"This email is for recovery\"\n                                persistent-hint\n                            ></v-text-field>\n                        </validation-provider>\n\n                        <validation-provider\n                            name=\"role.id\"\n                            v-slot=\"{ errors, valid }\"\n                        >\n                            <v-select\n                                v-model=\"form.role\"\n                                :items=\"[form.role]\"\n                                :error-messages=\"errors\"\n                                :success=\"valid\"\n                                chips\n                                item-text=\"name\"\n                                item-value=\"id\"\n                                label=\"Role\"\n                                hint=\"Role for this user\"\n                                persistent-hint\n                                return-object\n                            ></v-select>\n                        </validation-provider>\n\n                        <v-btn\n                            color=\"blue darken-1\"\n                            @click=\"change_password = !change_password\"\n                            text\n                            >{{\n                                change_password ? \"Keep\" : \"Change\"\n                            }}\n                            Password</v-btn\n                        >\n\n                        <template v-if=\"change_password\">\n                            <validation-provider\n                                name=\"password\"\n                                v-slot=\"{ errors, valid }\"\n                            >\n                                <v-text-field\n                                    label=\"Password\"\n                                    v-model=\"form.password\"\n                                    :type=\"show_password ? 'text' : 'password'\"\n                                    :append-icon=\"\n                                        show_password\n                                            ? 'mdi-eye'\n                                            : 'mdi-eye-off'\n                                    \"\n                                    @click:append=\"\n                                        show_password = !show_password\n                                    \"\n                                    :error-messages=\"errors\"\n                                    :success=\"valid\"\n                                    hint=\"Your new password\"\n                                    persistent-hint\n                                    counter\n                                    autocomplete=\"off\"\n                                ></v-text-field>\n                            </validation-provider>\n\n                            <validation-provider\n                                name=\"password_confirmation\"\n                                v-slot=\"{ errors, valid }\"\n                            >\n                                <v-text-field\n                                    label=\"Password Confirmation\"\n                                    v-model=\"form.password_confirmation\"\n                                    :type=\"show_password ? 'text' : 'password'\"\n                                    :append-icon=\"\n                                        show_password\n                                            ? 'mdi-eye'\n                                            : 'mdi-eye-off'\n                                    \"\n                                    @click:append=\"\n                                        show_password = !show_password\n                                    \"\n                                    :error-messages=\"errors\"\n                                    :success=\"valid\"\n                                    hint=\"Fill again the password\"\n                                    persistent-hint\n                                    counter\n                                    autocomplete=\"off\"\n                                ></v-text-field>\n                            </validation-provider>\n                        </template>\n                    </validation-observer>\n                </v-form>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions>\n                <v-btn @click=\"edit_profile = false\" color=\"indigo\" text\n                    >Cancel</v-btn\n                >\n                <v-spacer></v-spacer>\n                <v-btn\n                    :disabled=\"!!loading\"\n                    @click=\"saveItem\"\n                    color=\"primary\"\n                    large\n                    >Save</v-btn\n                >\n            </v-card-actions>\n        </v-card>\n    </v-col>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport { SAVE_MODEL } from \"../store/model/action-types\";\nimport { SET_PROFILE, SET_MESSAGE } from \"../store/app/mutation-types\";\nimport { RESEND, PROFILE } from \"../store/app/action-types\";\n\nconst model = \"user\";\n\nexport default {\n    name: \"profile\",\n    data() {\n        return {\n            edit_profile: false,\n            change_password: false,\n            show_password: false,\n            form: null\n        };\n    },\n    computed: {\n        ...mapState(\"app\", [\"loading\", \"profile\"])\n    },\n    methods: {\n        ...mapMutations(\"app\", [SET_PROFILE, SET_MESSAGE]),\n        ...mapActions(\"app\", [RESEND, PROFILE]),\n        ...mapActions(\"model\", [SAVE_MODEL]),\n        close() {\n            this.edit_profile = false;\n        },\n        edit() {\n            this.form = this.$_.cloneDeep({\n                ...this.profile,\n                password: null,\n                password_confirmation: null\n            });\n\n            this.change_password = false;\n            this.edit_profile = true;\n        },\n        saveItem() {\n            // validate\n            this.$refs.form.validate().then(valid => {\n                if (valid) {\n                    // pass validation\n                    const { form: payload } = this;\n                    if (!this.change_password) {\n                        this.$delete(payload, \"password\");\n                        this.$delete(payload, \"password_confirmation\");\n                    }\n                    // submit to backend\n                    this.SAVE_MODEL({\n                        model,\n                        payload\n                    })\n                        .then(async data => {\n                            // update profile\n                            this.SET_PROFILE(data);\n                            this.SET_MESSAGE({\n                                text: \"Profile udpated successfully\",\n                                type: \"success\"\n                            });\n                            this.close();\n                        })\n                        .catch(e => {\n                            let errors = eHandler(e);\n                            this.$refs.form.setErrors(errors);\n                        });\n                }\n            });\n        },\n        resend() {\n            if (!this.profile.email_verified_at) {\n                this.RESEND().catch(e => eHandler(e));\n            }\n        }\n    },\n    mounted() {\n        this.PROFILE().catch(e => eHandler(e));\n    }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=1d22bb98&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}